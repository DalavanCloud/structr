<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>$title</title>
        $headElements
        <link href="$contextPath/css/structr.css" rel="stylesheet" type="text/css">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=1024px, minimum-scale=1.0, maximum-scale=1.0" />
    </head>

    <body>
        #if ($renderMode != "inline")
        <div id="header">

            <!--            <div class="structr"><span class="structrCap">s</span>tructr</div>-->

        </div>
        #end
<div class="actionsPanel">
    #if ($viewLink)
    <span class="spacer">&nbsp;</span>
    <div class="fakeBtn $viewClass">$viewLink</div>
    #end

    #if ($editLink)
    <div class="fakeBtn $editClass">$editLink</div>
    #end
</div>
        #if ($errorMsg && $errorMsg != "")
        <div id="msg" class="errorMsg">$errorMsg</div>
        #end
        #if ($okMsg && $okMsg != "")
        <div id="msg" class="okMsg">$okMsg</div>
        #end
        #if ($warnMsg && $warnMsg != "")
        <div id="msg" class="warnMsg">$warnMsg</div>
        #end

        <table id="main">
            #if ($renderMode != "inline")
            #if ($nodeTreePanel)
            $nodeTreePanel
            #end
            #end

            <script src="$context/js/jquery-1.4.2.min.js" type="text/javascript"></script>
            <script src="$context/js/jquery.cookies.2.2.0.min.js" type="text/javascript"></script>
            <script src="$context/js/jquery.blockUI.js" type="text/javascript" ></script>
            <script src="$context/js/jquery-ui-1.8.4.custom.min.js" type="text/javascript" ></script>

            <link href="$contextPath/css/smoothness/jquery-ui-1.8.4.custom.css" rel="stylesheet"  type="text/css"/>

            <script type="text/javascript">
                jQuery.noConflict();
                jQuery(document).ready(function() {
                    jQuery("#tabs").tabs();
                });
            </script>

            #if ($renderMode != "inline")
            <td id="tabArea" class="tabArea">
                #else
                <div id="tabArea" class="tabAreaInline">
                    #end

                    <div id="tabs" class="ui-tabs">

                        <ul>
                            <li><a href="#rendition"><span>View</span></a></li>
                            #if ($node.type != "File")
                            <li><a href="#source"><span>Source</span></a></li>
                            #end
                        </ul>
                        <div class="innerOverlay">

                            <h2><img src="$context$node.iconSrc">$node.name</h2>
                            <p>
                                External URL: <a href="$externalViewUrl" target="_blank">$externalViewUrl</a><br>
                                Local URL: <a href="$localViewUrl" target="_blank">$localViewUrl</a>
                            </p>
                            #parse($path)

                        </div><!-- .innerOverlay -->
                    </div><!-- #tabs -->
                </td><!-- #tab_area -->

            </table><!-- #main -->

            $jsElements

            <!--        <script src="$context/js/jquery-1.4.2.min.js" type="text/javascript"></script>
                    <script src="$context/js/jquery.cookies.2.2.0.min.js" type="text/javascript"></script>
                    <script src="$context/js/jquery.blockUI.js" type="text/javascript" ></script>
                    <script src="$context/js/jquery-ui-1.8.4.custom.min.js" type="text/javascript" ></script>-->

<!--            <script type="text/javascript">

                jQuery.noConflict();
                jQuery(document).ready(function(){

                    var topOffset = jQuery('#header').height();
                    var mainScrollTop = jQuery.cookies.get('mainScrollTop');
                    var actionsPanelHeight = jQuery('.actionsPanel').height() + 20;
	            #if ($renderMode != "inline" && $nodeTreePanel)
                        var outerOverlayWidthOffset = 320;
                        var outerOverlayHeightOffset = 30;
                    #elseif (!$nodeTreePanel)
                        var outerOverlayWidthOffset = 40;
                        var outerOverlayHeightOffset = 30;
                    #else
                        var outerOverlayWidthOffset = 20;
                        var outerOverlayHeightOffset = 20;
                    #end
                    jQuery('#main').scrollTop(mainScrollTop);
                    var scrollTop = jQuery('#main').scrollTop();
                    var scrollLeft = jQuery('#main').scrollLeft();
                    jQuery('#outerOverlay').css('top', scrollTop + 24);
                    #if (!$nodeTreePanel)
                    jQuery('#outerOverlay').css('left', scrollLeft + 7);
                    #end
                    jQuery('#tabArea').css('top', scrollTop + 4);
                    //jQuery('.innerOverlay').css('top', scrollTop + 20);

                    jQuery('#main').height( jQuery('body').height() - topOffset - actionsPanelHeight );
                    jQuery('#outerOverlay').height( jQuery('#main').height() - outerOverlayHeightOffset );
                    jQuery('#outerOverlay').width( jQuery('#main').width() - outerOverlayWidthOffset );
                    jQuery('.innerOverlay').height( jQuery('#outerOverlay').height() - 8 );
                    jQuery('.innerOverlay').width( jQuery('#outerOverlay').width() - 16 );
                    if (jQuery('#pagePreview')) jQuery('#pagePreview').height( jQuery('.innerOverlay').height() - 90 );
                    if (jQuery('.CodeMirror-wrapping')) {
                        jQuery('.CodeMirror-wrapping').height( jQuery('.innerOverlay').height() - 150 );
                        jQuery('.CodeMirror-wrapping').width( jQuery('.innerOverlay').width() - 180 );
                    }
                    //if (jQuery('#tabArea')) jQuery('#tabArea').height( jQuery('.innerOverlay').height() - 90 );
                    if (jQuery('#rendition')) jQuery('#rendition').height( jQuery('.innerOverlay').height() - 91 );
                    if (jQuery('#source')) jQuery('#source').height( jQuery('.innerOverlay').height() - 91 );
                    //if (jQuery('#properties')) jQuery('#properties').height( jQuery('.innerOverlay').height()/2 - 90 );
                    //jQuery('.outerOverlay').show();
                    //jQuery('.innerOverlay').show();
                    //jQuery('.treestyle .active').show();


                    jQuery(window).resize(


                    function() {

                        topOffset = jQuery('#header').height();
                        mainScrollTop = jQuery.cookies.get('mainScrollTop');
                        actionsPanelHeight = jQuery('.actionsPanel').height() + 20;

                        jQuery('#main').scrollTop(mainScrollTop);
                        var scrollTop = jQuery('#main').scrollTop();
                        jQuery('.outerOverlay').css('top', scrollTop + 24);
                        jQuery('#tabArea').css('top', scrollTop + 4);
                        //jQuery('.innerOverlay').css('top', scrollTop + 4);

                        jQuery('#main').height( jQuery('body').height() - topOffset - actionsPanelHeight );
                        jQuery('#outerOverlay').height( jQuery('#main').height() - outerOverlayHeightOffset );
                        jQuery('#outerOverlay').width( jQuery('#main').width() - outerOverlayWidthOffset );
                        jQuery('.innerOverlay').height( jQuery('#outerOverlay').height() - 8 );
                        jQuery('.innerOverlay').width( jQuery('#outerOverlay').width() - 16 );
                        if (jQuery('#pagePreview')) jQuery('#pagePreview').height( jQuery('.innerOverlay').height() - 90 );
                        if (jQuery('.CodeMirror-wrapping')) {
                            jQuery('.CodeMirror-wrapping').height( jQuery('.innerOverlay').height() - 150 );
                            jQuery('.CodeMirror-wrapping').width( jQuery('.innerOverlay').width() - 180 );
                        }
                        //if (jQuery('#tabArea')) jQuery('#tabArea').height( jQuery('.innerOverlay').height() - 90 );
                        if (jQuery('#rendition')) jQuery('#rendition').height( jQuery('.innerOverlay').height() - 91 );
                        if (jQuery('#source')) jQuery('#source').height( jQuery('.innerOverlay').height() - 91 );
                        //if (jQuery('#properties')) jQuery('#properties').height( jQuery('.innerOverlay').height()/2 - 90 );
                    }
            );


                jQuery('#main').scroll(
                function() {
                    var scrollTop = jQuery('#main').scrollTop();
                    jQuery('.outerOverlay').css('top', scrollTop + 24);
                    jQuery('#tabArea').css('top', scrollTop + 4);
                    //jQuery('.innerOverlay').css('top', scrollTop + 10);
                    jQuery.cookies.set('mainScrollTop', scrollTop);
                }
            );


            });
            </script>-->


    </body>
</html>